<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.5.1"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Xcode常见Warning解决" /><meta name="author" content="Kyle Sun" /><meta property="og:locale" content="en_US" /><meta name="description" content="Analysis Warning（依赖分析⚠️）" /><meta property="og:description" content="Analysis Warning（依赖分析⚠️）" /><link rel="canonical" href="https://xdev.in/posts/xcode-warning/" /><meta property="og:url" content="https://xdev.in/posts/xcode-warning/" /><meta property="og:site_name" content="一剑霜寒十四州" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-05-15T22:27:34+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Xcode常见Warning解决" /><meta name="twitter:site" content="@skx926" /><meta name="twitter:creator" content="@Kyle Sun" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"Analysis Warning（依赖分析⚠️）","mainEntityOfPage":{"@type":"WebPage","@id":"https://xdev.in/posts/xcode-warning/"},"@type":"BlogPosting","url":"https://xdev.in/posts/xcode-warning/","headline":"Xcode常见Warning解决","dateModified":"2020-05-15T22:27:34+08:00","datePublished":"2020-05-15T22:27:34+08:00","author":{"@type":"Person","name":"Kyle Sun"},"@context":"https://schema.org"}</script><title>Xcode常见Warning解决 | 一剑霜寒十四州</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">一剑霜寒十四州</a></div><div class="site-subtitle font-italic">Kyle Sun's blog.</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <i class="mode-toggle fas fa-sun" dark-mode-invisible></i> <i class="mode-toggle fas fa-moon" light-mode-invisible></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.mode != null) { if (this.mode == ModeToggle.DARK_MODE) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.mode != null) { if (self.mode == ModeToggle.DARK_MODE) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/skx926" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/skx926" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['skx926','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Xcode常见Warning解决</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Xcode常见Warning解决</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, May 15, 2020, 10:27 PM +0800" > May 15, 2020 <i class="unloaded">2020-05-15T22:27:34+08:00</i> </span> by <span class="author"> Kyle Sun </span></div></div><div class="post-content"><h3 id="analysis-warning依赖分析️">Analysis Warning（依赖分析⚠️）</h3><p><strong>例</strong>：Warning: The Copy Bundle Resources build phase contains this target’s Info.plist file <code class="language-plaintext highlighter-rouge">/Users/kylexsun/APP_NAME/Resources/project/Notification_Info.plist</code>.</p><p>Info.plist文件已经在Build Settings中的Info.plist File指定了路径，无需再添加到Build Phases中的Copy Bundle Resources中去</p><h3 id="documentation-issue文档问题️">Documentation Issue（文档问题⚠️）</h3><p><strong>例</strong>：Parameter <code class="language-plaintext highlighter-rouge">bytes</code> not found in the function declaration</p><p>修改了方法名，但是没有修改文档</p><h3 id="semantic-issue语义问题️">Semantic Issue（语义问题⚠️）</h3><p><strong>例1</strong>：Incompatible pointer types assigning to <code class="language-plaintext highlighter-rouge">XXView </code> from <code class="language-plaintext highlighter-rouge">UIView </code></p><p>由于将父类实例赋值给子类实例，很容易产生由于找不到子类方法产生崩溃</p><p><strong>例2</strong>：Declaration shadows a local variable</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">[[</span><span class="n">XXPermissionsManager</span> <span class="nf">shareInstance</span><span class="p">]</span> <span class="nf">aimedToUsePermission</span><span class="p">:</span><span class="n">XXPermissionTypeCamera</span> <span class="nf">completionHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">success</span><span class="p">,</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">errorMsg</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">[[</span><span class="n">XXPermissionsManager</span> <span class="nf">shareInstance</span><span class="p">]</span> <span class="nf">aimedToUsePermission</span><span class="p">:</span><span class="n">XXPermissionTypeMicroPhone</span> <span class="nf">completionHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">success</span><span class="p">,</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">errorMsg</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}];</span>
<span class="p">}];</span>
</pre></table></code></div></div><p>给同名的变量取一个更详细的变量名，比如外部的success变量可以改成cameraSuccess</p><p><strong>例3</strong>：Assigning to <code class="language-plaintext highlighter-rouge">id&lt;CAAnimationDelegate&gt; _Nullable</code> from incompatible type <code class="language-plaintext highlighter-rouge">UILabel *__strong</code></p><p>指定为delegate的变量没有声名代理协议</p><p><strong>例4</strong>：Class <code class="language-plaintext highlighter-rouge">XXViewController</code> does not conform to protocol <code class="language-plaintext highlighter-rouge">XXDelegate</code></p><p>声名了代理协议，但是没有实现所有方法。设计协议的人需要注意表名哪些方法是可选的</p><p><strong>例5</strong>：Property attribute in class extension does not match the primary class</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="c1">// .h文件</span>
<span class="k">@interface</span> <span class="nc">AudioPlayManager</span> <span class="p">:</span> <span class="nc">NSObject</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">atomic</span><span class="p">,</span> <span class="n">retain</span><span class="p">,</span> <span class="n">readonly</span><span class="p">)</span> <span class="n">UIImage</span> <span class="o">*</span><span class="n">currentCoverImage</span><span class="p">;</span>
<span class="k">@end</span>
  
<span class="c1">// .m文件</span>
<span class="k">@interface</span> <span class="nc">AudioPlayManager</span><span class="p">()</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">atomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">,</span> <span class="n">readwrite</span><span class="p">)</span> <span class="n">UIImage</span> <span class="o">*</span><span class="n">currentCoverImage</span><span class="p">;</span>
<span class="k">@end</span>
</pre></table></code></div></div><p>两边声名的同一个property的内存管理属性不同</p><p><strong>例6</strong>：Control may reach end of non-void function</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="k">+</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">stringWithoutDotThousandNumFomatter</span><span class="p">:(</span><span class="n">NSNumber</span> <span class="o">*</span><span class="p">)</span><span class="nv">num</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">num</span><span class="p">.</span><span class="n">integerValue</span> <span class="o">&lt;=</span> <span class="mi">999</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">NSString</span> <span class="nf">stringWithFormat</span><span class="p">:</span><span class="s">@"%ld"</span><span class="p">,</span> <span class="n">num</span><span class="p">.</span><span class="n">integerValue</span><span class="p">];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">num</span><span class="p">.</span><span class="n">integerValue</span> <span class="o">&lt;=</span> <span class="mi">999999</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">float</span> <span class="n">result</span> <span class="o">=</span> <span class="n">num</span><span class="p">.</span><span class="n">integerValue</span><span class="o">/</span><span class="mi">1000</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">NSString</span> <span class="nf">stringWithFormat</span><span class="p">:</span><span class="s">@"%dK"</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">result</span><span class="p">];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">num</span><span class="p">.</span><span class="n">integerValue</span> <span class="o">&gt;</span> <span class="mi">999999</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">float</span> <span class="n">result</span> <span class="o">=</span> <span class="n">num</span><span class="p">.</span><span class="n">integerValue</span><span class="o">/</span><span class="mi">1000000</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">NSString</span> <span class="nf">stringWithFormat</span><span class="p">:</span><span class="s">@"%dM"</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">result</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>有返回值的方法没有兜底的返回值</p><p><strong>例7</strong>：Method definition for <code class="language-plaintext highlighter-rouge">resetRequestState</code> not found</p><p>只有方法声明，没有实现</p><p><strong>例8</strong>：Auto property synthesis will not synthesize property <code class="language-plaintext highlighter-rouge">viewID</code>; it will be implemented by its superclass, use @dynamic to acknowledge intention</p><p>父类已经声明过的属性，子类就不需要再声明一遍了</p><p><strong>例9</strong>：Undeclared selector <code class="language-plaintext highlighter-rouge">xxAction</code></p><p>对于没有声明的selector警告，如果只是忽略一个代码块就可以用下面的方式：</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="cp"># pragma clang diagnostic push
# pragma clang diagnostic ignored "-Wundeclared-selector"    
</span><span class="p">[</span><span class="n">xxBtn</span> <span class="nf">addTarget</span><span class="p">:</span><span class="n">self</span> <span class="nf">action</span><span class="p">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">xxAction</span><span class="p">)</span> <span class="n">forControlEvents</span><span class="o">:</span><span class="n">UIControlEventTouchUpInside</span><span class="p">];</span>
<span class="cp"># pragma clang diagnostic pop
</span></pre></table></code></div></div><p>如果是要忽略整个文件这种类型的警告可以在Build Phases中的Compile Sources里面找到要忽略的文件，然后在文件名后面的Compliler Flags中添加<code class="language-plaintext highlighter-rouge">-Wundeclared-selector</code>就可以了。</p><p>如果要忽略整个项目中这种类型的警告可以在Build Settings中的Other Warning Flags中添加<code class="language-plaintext highlighter-rouge">-Wundeclared-selector</code>就可以了。</p><p><strong>例10</strong>：PerformSelector may cause a leak because its selector is unknown</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="cp"># pragma clang diagnostic push
# pragma clang diagnostic ignored "-Warc-performSelector-leaks"
</span>    <span class="n">XXUpdaterTarget</span><span class="o">*</span> <span class="n">t</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">objPoolDict</span><span class="p">[</span><span class="nf">key</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">target</span> <span class="o">!=</span> <span class="nb">nil</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">needUpdate</span> <span class="o">&amp;&amp;</span> <span class="n">t</span><span class="p">.</span><span class="n">sel</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="p">[</span><span class="n">t</span><span class="p">.</span><span class="n">target</span> <span class="nf">performSelector</span><span class="p">:</span><span class="n">t</span><span class="p">.</span><span class="n">sel</span> <span class="nf">withObject</span><span class="p">:</span><span class="n">key</span><span class="p">];</span>
            <span class="n">t</span><span class="p">.</span><span class="n">needUpdate</span> <span class="o">=</span> <span class="nb">NO</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="cp"># pragma clang diagnostic pop
</span></pre></table></code></div></div><p>同例9的解决方式，只是换个flag。</p><p>对于clang的所有warning的flag可以参考这里：<a href="https://github.com/JasonWorking/Articles/blob/master/Articles/fucking-clang-warnings.md">fucking-clang-warnings</a></p><p><strong>例11</strong>：Variable <code class="language-plaintext highlighter-rouge">imagePartRef</code> is used uninitialized whenever <code class="language-plaintext highlighter-rouge">if</code> condition is false</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="n">CGImageRef</span> <span class="n">imagePartRef</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">imagePart</span> <span class="o">==</span> <span class="n">XXImagePartAll</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">imagePartRef</span> <span class="o">=</span> <span class="n">CGImageCreateWithImageInRect</span><span class="p">([</span><span class="n">image</span> <span class="nf">CGImage</span><span class="p">],</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">));</span>
<span class="p">}</span>
<span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">imagePart</span> <span class="o">==</span> <span class="n">XXImagePartTop</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">imagePartRef</span> <span class="o">=</span> <span class="n">CGImageCreateWithImageInRect</span><span class="p">([</span><span class="n">image</span> <span class="nf">CGImage</span><span class="p">],</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span> <span class="o">*</span> <span class="n">partPercent</span><span class="p">));</span>
<span class="p">}</span>
<span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">imagePart</span> <span class="o">==</span> <span class="n">XXImagePartLeft</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">imagePartRef</span> <span class="o">=</span> <span class="n">CGImageCreateWithImageInRect</span><span class="p">([</span><span class="n">image</span> <span class="nf">CGImage</span><span class="p">],</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span> <span class="o">*</span> <span class="n">partPercent</span><span class="p">,</span> <span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">));</span>
<span class="p">}</span>
<span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">imagePart</span> <span class="o">==</span> <span class="n">XXImagePartBottom</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">imagePartRef</span> <span class="o">=</span> <span class="n">CGImageCreateWithImageInRect</span><span class="p">([</span><span class="n">image</span> <span class="nf">CGImage</span><span class="p">],</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">partPercent</span><span class="p">),</span> <span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span> <span class="o">*</span> <span class="n">partPercent</span><span class="p">));</span>
<span class="p">}</span>
<span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">imagePart</span> <span class="o">==</span> <span class="n">XXImagePartRight</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">imagePartRef</span> <span class="o">=</span> <span class="n">CGImageCreateWithImageInRect</span><span class="p">([</span><span class="n">image</span> <span class="nf">CGImage</span><span class="p">],</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">partPercent</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span> <span class="o">*</span> <span class="n">partPercent</span><span class="p">,</span> <span class="n">image</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">));</span>
<span class="p">}</span>
</pre></table></code></div></div><p>没有给imagePartRef赋初值，条件控制没有包含所有情况</p><p><strong>例12</strong>：Multiple methods named <code class="language-plaintext highlighter-rouge">length</code> found</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="n">NSArray</span> <span class="o">*</span><span class="n">authenIcons</span> <span class="o">=</span> <span class="p">@[</span><span class="s">@"a"</span><span class="p">,</span> <span class="s">@"b"</span><span class="p">];</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">autheIcons</span><span class="p">.</span><span class="n">count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">authenIcons</span><span class="p">[</span><span class="nf">i</span><span class="p">].</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>在遍历数组中的元素时不知道元素的实际类型，因此不确定会掉哪个类的length方法。建议声名集合类型时添加泛型：</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">NSArray</span><span class="o">&lt;</span><span class="n">NSString</span> <span class="o">*&gt;</span> <span class="o">*</span><span class="n">authenIcons</span> <span class="o">=</span> <span class="p">@[</span><span class="s">@"a"</span><span class="p">,</span> <span class="s">@"b"</span><span class="p">];</span>
</pre></table></code></div></div><p>或者在遍历是指明元素的类型:</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="n">NSArray</span> <span class="o">*</span><span class="n">authenIcons</span> <span class="o">=</span> <span class="p">@[</span><span class="s">@"a"</span><span class="p">,</span> <span class="s">@"b"</span><span class="p">];</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">autheIcons</span><span class="p">.</span><span class="n">count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSString</span> <span class="o">*</span><span class="n">authenIcon</span> <span class="o">=</span> <span class="n">authenIcons</span><span class="p">[</span><span class="nf">i</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">authenIcon</span><span class="p">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><strong>例13</strong>：Autosynthesized property <code class="language-plaintext highlighter-rouge">key</code> will use synthesized instance variable <code class="language-plaintext highlighter-rouge">_key</code>, not existing instance variable <code class="language-plaintext highlighter-rouge">key</code></p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">@interface</span> <span class="nc">XXView</span> <span class="p">:</span> <span class="nc">UIView</span> <span class="p">{</span>
    <span class="n">NSString</span><span class="o">*</span> <span class="n">key</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span><span class="n">strong</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">key</span><span class="p">;</span>
<span class="k">@end</span>
</pre></table></code></div></div><p>两个变量的名称太相似，导致编译器以为可能是同一个变量，给出了提醒。</p><h3 id="format-string-issue格式化字符串问题️">Format String Issue（格式化字符串问题⚠️）</h3><p><strong>例1</strong>：Format string is empty</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">NSLog</span><span class="p">(</span><span class="s">@""</span><span class="p">);</span>
</pre></table></code></div></div><p><strong>例2</strong>：Values of type <code class="language-plaintext highlighter-rouge">NSUInteger</code> should not be used as format arguments; add an explicit cast to <code class="language-plaintext highlighter-rouge">unsigned long</code> instead</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">NSLog</span><span class="p">(</span><span class="s">@"add %d songs to first chache manager."</span><span class="p">,</span> <span class="p">[</span><span class="n">songs</span> <span class="nf">count</span><span class="p">]);</span>
</pre></table></code></div></div><p>NSUInteger和NSInteger在32位和64位机器上的长度不同：</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="cp"># if __LP64__ || 0 || NS_BUILD_32_LIKE_64
</span><span class="k">typedef</span> <span class="kt">long</span> <span class="n">NSInteger</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">NSUInteger</span><span class="p">;</span>
<span class="cp"># else
</span><span class="k">typedef</span> <span class="kt">int</span> <span class="n">NSInteger</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">NSUInteger</span><span class="p">;</span>
<span class="cp"># endif
</span><span class="c1">// You usually want to use NSInteger when you don`t know what kind of processor architecture your code might run on, so you may for some reason want the largest possible int type, which on 32 bit systems is just an int, while on a 64-bit system it`s a long.</span>
<span class="cm">/*
  在32位系统中：
  int 占4个字节
  long 占4个字节
  NSInteger 是int的别名，占4个字节
  long long 占8个字节
  int32_t 是int的别名，占4个字节
  int64_t 是long long的别名，占8个字节
  在64位系统中：
  int 占4个字节
  long 占8个字节
  NSInteger 是long的别名，占8个字节
  long long 占8个字节
  int32_t 是int的别名，占4个字节
  int64_t 是long long的别名，占8个字节
*/</span>
</pre></table></code></div></div><p>为了不丢失精度，在格式化的时候需要显式的将他们转换成unsigned long 和 long。</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">NSLog</span><span class="p">(</span><span class="s">@"add %lu songs to first chache manager."</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)[</span><span class="n">songs</span> <span class="nf">count</span><span class="p">]);</span>
</pre></table></code></div></div><p><strong>例3</strong>：Format specifies type <code class="language-plaintext highlighter-rouge">double</code> but the argument has type <code class="language-plaintext highlighter-rouge">CGSize</code> (aka <code class="language-plaintext highlighter-rouge">struct CGSize</code>)</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">NSLog</span><span class="p">(</span><span class="s">@"ContentSize:%f"</span><span class="p">,</span> <span class="n">scrollView</span><span class="p">.</span><span class="n">contentSize</span><span class="p">);</span>
</pre></table></code></div></div><p>对于CG前缀的类型行比如CGPoint、CGSize可以转换成NSValue再进行打印：</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">NSLog</span><span class="p">(</span><span class="s">@"ContentSize:%@"</span><span class="p">,</span> <span class="p">[</span><span class="n">NSValue</span> <span class="nf">valueWithCGSize</span><span class="p">:</span><span class="n">scrollView</span><span class="p">.</span><span class="n">contentSize</span><span class="p">]);</span>
</pre></table></code></div></div><p><strong>例4</strong>：Null passed to a callee that requires a non-null argument</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="n">NS_ASSUME_NONNULL_BEGIN</span>
<span class="k">@interface</span> <span class="nc">XXAudioPreviewMgr</span> <span class="p">:</span> <span class="nc">NSObject</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">XXAudioEditer</span> <span class="o">*</span><span class="n">audioEditer</span><span class="p">;</span>
<span class="k">@end</span>
<span class="n">NS_ASSUME_NONNULL_END</span>
  
<span class="n">audioPreviewMgr</span><span class="p">.</span><span class="n">audioEditer</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</pre></table></code></div></div><p>被<code class="language-plaintext highlighter-rouge">NS_ASSUME_NONNULL_BEGIN</code>和<code class="language-plaintext highlighter-rouge">NS_ASSUME_NONNULL_END</code>包裹的区域是默认nonnull的，如果要置空就需要添加nullable修饰符</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">,</span> <span class="n">nullable</span><span class="p">)</span> <span class="n">XXAudioEditer</span> <span class="o">*</span><span class="n">audioEditer</span><span class="p">;</span>
</pre></table></code></div></div><h4 id="value-conversion-issue值转换问题️">Value Conversion Issue（值转换问题⚠️）</h4><p><strong>例</strong>：Implicit conversion loses integer precision: <code class="language-plaintext highlighter-rouge">XXViewFromType</code> (aka <code class="language-plaintext highlighter-rouge">enum XXViewFromType</code>) to <code class="language-plaintext highlighter-rouge">unsigned int</code></p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="p">[[</span><span class="n">XXManager</span> <span class="nf">sharedManager</span><span class="p">]</span> <span class="nf">addDataWithBuilder</span><span class="p">:[[</span><span class="n">XXBuilder</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithactionType</span><span class="p">:</span><span class="n">fromType</span> <span class="nf">singerId</span><span class="p">:</span><span class="n">singerId</span> <span class="nf">categoryId</span><span class="p">:</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">categoryId</span><span class="p">]];</span>
</pre></table></code></div></div><p>由于XXBuilder里面的数字类型都是unsigned int，需要进行强转，如果是从更长的数据类型（如NSUInteger）转换过来需要注意精度损失会不会数据有影响</p><h3 id="lexical-or-preprocessor-issue词汇或预处理问题️">Lexical or Preprocessor Issue（词汇或预处理问题⚠️）</h3><p><strong>例1</strong>： <code class="language-plaintext highlighter-rouge">NSLog</code> macro redefined</p><p>重复定义了NSLog这个宏</p><p><strong>例2</strong>：Non-portable path to file <code class="language-plaintext highlighter-rouge">"XxBuilder.h"</code>; specified path differs in case from file name on disk</p><div class="language-objc highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="cp">#import "XXBuilder.h"
</span></pre></table></code></div></div><p>引入的文件名和实际的文件名大小写不同，实际的文件名为<code class="language-plaintext highlighter-rouge">XxBuilder.h</code>，g是小写</p><h3 id="apple-mach-o-linker-ld-warning链接警告️">Apple Mach-O Linker (ld) Warning（链接警告⚠️）</h3><p><strong>例</strong>：Directory not found for option <code class="language-plaintext highlighter-rouge">-F/Users/kylexsun/APP_NAME/Library/AFNetworking</code></p><p>再将AFNetworking从Framework引入改为pod引入之后没有在Build Settings中删掉相应的Framework Search Paths</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/ios/'>iOS</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/xcode/" class="post-tag no-text-decoration" >Xcode</a> <a href="/tags/warning/" class="post-tag no-text-decoration" >Warning</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Xcode常见Warning解决 - 一剑霜寒十四州&url=https://xdev.in/posts/xcode-warning/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Xcode常见Warning解决 - 一剑霜寒十四州&u=https://xdev.in/posts/xcode-warning/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Xcode常见Warning解决 - 一剑霜寒十四州&url=https://xdev.in/posts/xcode-warning/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/swift-crash-catch/">Swift Crash 捕获和分析</a><li><a href="/posts/assign-obj-detector/">Assign对象自动检测</a><li><a href="/posts/mac-glfw/">OpenGL学习笔记（一）：在Mac上编译GLFW并配置到Xcode项目</a><li><a href="/posts/xcode-device-rgb/">解决Storyboard中设置的颜色和代码设置的颜色不一样的问题</a><li><a href="/posts/unix-executable/">Mac如何生成Unix可执行文件</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E7%BB%88%E7%AB%AF/">终端</a> <a class="post-tag" href="/tags/cocoapods/">Cocoapods</a> <a class="post-tag" href="/tags/git/">Git</a> <a class="post-tag" href="/tags/opengl/">OpenGL</a> <a class="post-tag" href="/tags/ssh/">SSH</a> <a class="post-tag" href="/tags/xcode/">Xcode</a> <a class="post-tag" href="/tags/%E4%BB%A3%E7%90%86/">代理</a> <a class="post-tag" href="/tags/%E5%8D%9A%E5%AE%A2/">博客</a> <a class="post-tag" href="/tags/%E6%89%8B%E5%8A%BF/">手势</a> <a class="post-tag" href="/tags/%E8%AF%81%E4%B9%A6/">证书</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/appstore-download-path/"><div class="card-body"> <span class="timeago small" > Jun 9, 2017 <i class="unloaded">2017-06-09T19:49:58+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>获取App Store下载的Xcode安装包</h3><div class="text-muted small"><p> 通过 App Store 下载安装 Xcode 的时候可能会遇到各种奇葩的事情。 这不，我刚才就摊上事了：用公司的渣网络辛辛苦苦下载两个多小时眼看开始安装了结果弹框提示我说空间不足无法继续安装。既然空间不足咱就清理一下呗，清理完了之后想要继续安装发现没有办法重新开始安装，App Store 里的按钮显示 发生错误，/Applications 文件加下的 Xcode.appdownload ...</p></div></div></a></div><div class="card"> <a href="/posts/h5-image-picker/"><div class="card-body"> <span class="timeago small" > Dec 29, 2018 <i class="unloaded">2018-12-29T01:05:50+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>移动端H5页面选择图片的各种姿势</h3><div class="text-muted small"><p> 通过HTML的&lt;input&gt;标签调用系统api进行选择 通过下面的代码就可以调用系统的api选择图片 &lt;!-- 选择文件 --&gt; &lt;input type="file"&gt; &lt;!-- 选择图片 --&gt; &lt;input type="file" accept='image/*'&gt; &lt;!-- 选择多张图片 --&gt; &lt;inp...</p></div></div></a></div><div class="card"> <a href="/posts/corner-radius/"><div class="card-body"> <span class="timeago small" > Nov 13, 2014 <i class="unloaded">2014-11-13T20:31:19+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>iOS图片圆角实现和性能优化</h3><div class="text-muted small"><p> iOS的系统之中用了大量的圆角和圆形的图案，为了是我们的应用更加“接地气”，在iOS开发中我们也会不可避免的需要为自己的View添加圆角。 我在开发中使用圆角有两种情况: 圆形的用户头像 给View或Button添加圆角 这两种情况都可以设置View的CALayer属性的cornerRadius属性来产生圆角，使用方法很简单 view.layer.cornerRadius...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/assign-obj-detector/" class="btn btn-outline-primary"><p>Assign对象自动检测</p></a> <a href="/posts/swift-crash-catch/" class="btn btn-outline-primary"><p>Swift Crash 捕获和分析</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//skx926.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://xdev.in/posts/xcode-warning/'; this.page.identifier = '/posts/xcode-warning/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/skx926">Kyle Sun</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/%E7%BB%88%E7%AB%AF/">终端</a> <a class="post-tag" href="/tags/cocoapods/">Cocoapods</a> <a class="post-tag" href="/tags/git/">Git</a> <a class="post-tag" href="/tags/opengl/">OpenGL</a> <a class="post-tag" href="/tags/ssh/">SSH</a> <a class="post-tag" href="/tags/xcode/">Xcode</a> <a class="post-tag" href="/tags/%E4%BB%A3%E7%90%86/">代理</a> <a class="post-tag" href="/tags/%E5%8D%9A%E5%AE%A2/">博客</a> <a class="post-tag" href="/tags/%E6%89%8B%E5%8A%BF/">手势</a> <a class="post-tag" href="/tags/%E8%AF%81%E4%B9%A6/">证书</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://xdev.in{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-73055515-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-73055515-1'); </script>
