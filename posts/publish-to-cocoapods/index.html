<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.5.1"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="使用Trunk发布开源库到Cocoapods" /><meta name="author" content="Kyle Sun" /><meta property="og:locale" content="en_US" /><meta name="description" content="注册" /><meta property="og:description" content="注册" /><link rel="canonical" href="https://xdev.in/posts/publish-to-cocoapods/" /><meta property="og:url" content="https://xdev.in/posts/publish-to-cocoapods/" /><meta property="og:site_name" content="一剑霜寒十四州" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2017-05-17T00:49:20+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="使用Trunk发布开源库到Cocoapods" /><meta name="twitter:site" content="@skx926" /><meta name="twitter:creator" content="@Kyle Sun" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"注册","mainEntityOfPage":{"@type":"WebPage","@id":"https://xdev.in/posts/publish-to-cocoapods/"},"@type":"BlogPosting","url":"https://xdev.in/posts/publish-to-cocoapods/","headline":"使用Trunk发布开源库到Cocoapods","dateModified":"2017-05-17T00:49:20+08:00","datePublished":"2017-05-17T00:49:20+08:00","author":{"@type":"Person","name":"Kyle Sun"},"@context":"https://schema.org"}</script><title>使用Trunk发布开源库到Cocoapods | 一剑霜寒十四州</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">一剑霜寒十四州</a></div><div class="site-subtitle font-italic">Kyle Sun's blog.</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <i class="mode-toggle fas fa-sun" dark-mode-invisible></i> <i class="mode-toggle fas fa-moon" light-mode-invisible></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.mode != null) { if (this.mode == ModeToggle.DARK_MODE) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.mode != null) { if (self.mode == ModeToggle.DARK_MODE) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/skx926" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/skx926" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['skx926','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>使用Trunk发布开源库到Cocoapods</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>使用Trunk发布开源库到Cocoapods</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, May 17, 2017, 12:49 AM +0800" > May 17, 2017 <i class="unloaded">2017-05-17T00:49:20+08:00</i> </span> by <span class="author"> Kyle Sun </span></div><div> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Mon, Nov 16, 2020, 12:02 AM +0800" > Nov 16, 2020 <i class="unloaded">2020-11-16T00:02:38+08:00</i> </span></div></div><div class="post-content"><h3 id="注册">注册</h3><h5 id="安装cocoapods">安装Cocoapods</h5><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo </span>gem <span class="nb">install </span>cocoapods
<span class="nv">$ </span>pod setup
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">pod setup</code> 的过程就是把 <a href="https://github.com/CocoaPods/Specs.git">Cocoapods/Specs</a> 克隆到本地的过程，由于这个库包含了所有发布到 Cocoapods的开源库的说明，现在已经有数百兆的大小了，而且由于某众所周知的原因，这个过程会比较慢，需要耐心等待。</p><h5 id="注册trunk">注册Trunk</h5><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">$ </span>pod trunk register skx926@gmail.com <span class="s1">'Kyle Sun'</span> <span class="nt">--description</span><span class="o">=</span><span class="s1">'iMac'</span> <span class="nt">--verbose</span>
</pre></table></code></div></div><p>这个是我注册时用的命令，使用时需要把邮箱和名字以及描述修改成你的。这个描述是用来区分不同的设备的，如果你有多台开发设备，它就可以说明你是使用哪一台设备进行的操作。</p><p>注册成功之后Cocoapods会给你发送邮件，点击邮件中的链接进行验证就注册成功了，可以使用 <code class="language-plaintext highlighter-rouge">pod trunk me</code> 来查看自己的注册信息：</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="nv">$ </span>pod trunk me
  - Name:     Kyle Sun
  - Email:    skx926@gmail.com
  - Since:    January 3rd, 03:28
  - Pods:
    - KSPhotoBrowser
    - KSGuideController
  - Sessions:
    - January 3rd, 03:28 - September 19th, 20:57. IP: 113.87.161.243
    Description: skx926
    - January 3rd, 08:29 -       May 19th, 18:01. IP: 36.36.186.238 
    Description: hackintosh
    - May 19th, 22:45    - September 24th, 22:45. IP: 36.36.187.9   
    Description: iMac
</pre></table></code></div></div><h3 id="部署你的pod">部署你的Pod</h3><p>首先需要在项目目录下建立一个 <code class="language-plaintext highlighter-rouge">podspec</code> 文件：</p><div class="language-ruby highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
</pre><td class="rouge-code"><pre><span class="c1">#</span>
<span class="c1">#  Be sure to run `pod spec lint KSGuideController.podspec' to ensure this is a</span>
<span class="c1">#  valid spec and to remove all comments including this before submitting the spec.</span>
<span class="c1">#</span>
<span class="c1">#  To learn more about Podspec attributes see http://docs.cocoapods.org/specification.html</span>
<span class="c1">#  To see working Podspecs in the CocoaPods repo see https://github.com/CocoaPods/Specs/</span>
<span class="c1">#</span>

<span class="no">Pod</span><span class="o">::</span><span class="no">Spec</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">s</span><span class="o">|</span>

  <span class="c1"># ―――  Spec Metadata  ―――――――――――――――――――――――――――――――――――――――――――――――――――――――――― #</span>
  <span class="c1">#</span>
  <span class="c1">#  These will help people to find your library, and whilst it</span>
  <span class="c1">#  can feel like a chore to fill in it's definitely to your advantage. The</span>
  <span class="c1">#  summary should be tweet-length, and the description more in depth.</span>
  <span class="c1">#</span>

  <span class="n">s</span><span class="p">.</span><span class="nf">name</span>         <span class="o">=</span> <span class="s2">"KSGuideController"</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">version</span>      <span class="o">=</span> <span class="s2">"0.0.1"</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">summary</span>      <span class="o">=</span> <span class="s2">"A beautiful animated novice guide controller."</span>

  <span class="c1"># This description is used to generate tags and improve search results.</span>
  <span class="c1">#   * Think: What does it do? Why did you write it? What is the focus?</span>
  <span class="c1">#   * Try to keep it short, snappy and to the point.</span>
  <span class="c1">#   * Write the description between the DESC delimiters below.</span>
  <span class="c1">#   * Finally, don't worry about the indent, CocoaPods strips it!</span>
  <span class="c1"># s.description  = &lt;&lt;-DESC</span>
  <span class="c1">#               DESC</span>

  <span class="n">s</span><span class="p">.</span><span class="nf">homepage</span>     <span class="o">=</span> <span class="s2">"https://github.com/skx926/KSGuideController"</span>
  <span class="c1"># s.screenshots  = "www.example.com/screenshots_1.gif", "www.example.com/screenshots_2.gif"</span>


  <span class="c1"># ―――  Spec License  ――――――――――――――――――――――――――――――――――――――――――――――――――――――――――― #</span>
  <span class="c1">#</span>
  <span class="c1">#  Licensing your code is important. See http://choosealicense.com for more info.</span>
  <span class="c1">#  CocoaPods will detect a license file if there is a named LICENSE*</span>
  <span class="c1">#  Popular ones are 'MIT', 'BSD' and 'Apache License, Version 2.0'.</span>
  <span class="c1">#</span>

  <span class="n">s</span><span class="p">.</span><span class="nf">license</span>      <span class="o">=</span> <span class="s2">"MIT"</span>
  <span class="c1"># s.license      = { :type =&gt; "MIT", :file =&gt; "FILE_LICENSE" }</span>


  <span class="c1"># ――― Author Metadata  ――――――――――――――――――――――――――――――――――――――――――――――――――――――――― #</span>
  <span class="c1">#</span>
  <span class="c1">#  Specify the authors of the library, with email addresses. Email addresses</span>
  <span class="c1">#  of the authors are extracted from the SCM log. E.g. $ git log. CocoaPods also</span>
  <span class="c1">#  accepts just a name if you'd rather not provide an email address.</span>
  <span class="c1">#</span>
  <span class="c1">#  Specify a social_media_url where others can refer to, for example a twitter</span>
  <span class="c1">#  profile URL.</span>
  <span class="c1">#</span>

  <span class="n">s</span><span class="p">.</span><span class="nf">author</span>             <span class="o">=</span> <span class="p">{</span> <span class="s2">"Kyle Sun"</span> <span class="o">=&gt;</span> <span class="s2">"skx926@gmail.com"</span> <span class="p">}</span>
  <span class="c1"># Or just: s.author    = "Kyle Sun"</span>
  <span class="c1"># s.authors            = { "Kyle Sun" =&gt; "skx926@gmail.com" }</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">social_media_url</span>   <span class="o">=</span> <span class="s2">"https://twitter.com/skx926"</span>

  <span class="c1"># ――― Platform Specifics ――――――――――――――――――――――――――――――――――――――――――――――――――――――― #</span>
  <span class="c1">#</span>
  <span class="c1">#  If this Pod runs only on iOS or OS X, then specify the platform and</span>
  <span class="c1">#  the deployment target. You can optionally include the target after the platform.</span>
  <span class="c1">#</span>

  <span class="c1"># s.platform     = :ios</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">platform</span>     <span class="o">=</span> <span class="ss">:ios</span><span class="p">,</span> <span class="s2">"8.0"</span>

  <span class="c1">#  When using multiple platforms</span>
  <span class="c1"># s.ios.deployment_target = "5.0"</span>
  <span class="c1"># s.osx.deployment_target = "10.7"</span>
  <span class="c1"># s.watchos.deployment_target = "2.0"</span>
  <span class="c1"># s.tvos.deployment_target = "9.0"</span>


  <span class="c1"># ――― Source Location ―――――――――――――――――――――――――――――――――――――――――――――――――――――――――― #</span>
  <span class="c1">#</span>
  <span class="c1">#  Specify the location from where the source should be retrieved.</span>
  <span class="c1">#  Supports git, hg, bzr, svn and HTTP.</span>
  <span class="c1">#</span>

  <span class="n">s</span><span class="p">.</span><span class="nf">source</span>       <span class="o">=</span> <span class="p">{</span> <span class="ss">:git</span> <span class="o">=&gt;</span> <span class="s2">"https://github.com/skx926/KSGuideController.git"</span><span class="p">,</span> <span class="ss">:tag</span> <span class="o">=&gt;</span> <span class="s2">"</span><span class="si">#{</span><span class="n">s</span><span class="p">.</span><span class="nf">version</span><span class="si">}</span><span class="s2">"</span> <span class="p">}</span>


  <span class="c1"># ――― Source Code ―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――― #</span>
  <span class="c1">#</span>
  <span class="c1">#  CocoaPods is smart about how it includes source code. For source files</span>
  <span class="c1">#  giving a folder will include any swift, h, m, mm, c &amp; cpp files.</span>
  <span class="c1">#  For header files it will include any header in the folder.</span>
  <span class="c1">#  Not including the public_header_files will make all headers public.</span>
  <span class="c1">#</span>

  <span class="n">s</span><span class="p">.</span><span class="nf">source_files</span>  <span class="o">=</span> <span class="s2">"KSGuideController"</span><span class="p">,</span> <span class="s2">"KSGuideController/**/*.{swift}"</span>
  <span class="c1"># s.exclude_files = "Classes/Exclude"</span>

  <span class="c1"># s.public_header_files = "KSGuideController/**/*.h"</span>


  <span class="c1"># ――― Resources ―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――― #</span>
  <span class="c1">#</span>
  <span class="c1">#  A list of resources included with the Pod. These are copied into the</span>
  <span class="c1">#  target bundle with a build phase script. Anything else will be cleaned.</span>
  <span class="c1">#  You can preserve files from being cleaned, please don't preserve</span>
  <span class="c1">#  non-essential files like tests, examples and documentation.</span>
  <span class="c1">#</span>

  <span class="c1"># s.resource  = "icon.png"</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">resources</span> <span class="o">=</span> <span class="s2">"KSGuideController/Resources/*.png"</span>

  <span class="c1"># s.preserve_paths = "FilesToSave", "MoreFilesToSave"</span>


  <span class="c1"># ――― Project Linking ―――――――――――――――――――――――――――――――――――――――――――――――――――――――――― #</span>
  <span class="c1">#</span>
  <span class="c1">#  Link your library with frameworks, or libraries. Libraries do not include</span>
  <span class="c1">#  the lib prefix of their name.</span>
  <span class="c1">#</span>

  <span class="n">s</span><span class="p">.</span><span class="nf">framework</span>  <span class="o">=</span> <span class="s2">"UIKit"</span>
  <span class="c1"># s.frameworks = "SomeFramework", "AnotherFramework"</span>

  <span class="c1"># s.library   = "iconv"</span>
  <span class="c1"># s.libraries = "iconv", "xml2"</span>


  <span class="c1"># ――― Project Settings ――――――――――――――――――――――――――――――――――――――――――――――――――――――――― #</span>
  <span class="c1">#</span>
  <span class="c1">#  If your library depends on compiler flags you can set them in the xcconfig hash</span>
  <span class="c1">#  where they will only apply to your library. If you depend on other Podspecs</span>
  <span class="c1">#  you can include multiple dependencies to ensure it works.</span>

  <span class="c1"># s.requires_arc = true</span>

  <span class="c1"># s.xcconfig = { "HEADER_SEARCH_PATHS" =&gt; "$(SDKROOT)/usr/include/libxml2" }</span>
  <span class="c1"># s.dependency "YYWebImage", "~&gt; 1.0.5"</span>

<span class="k">end</span>
</pre></table></code></div></div><p>上面的文件里每个项目的意思我就不赘述了，里面的注释写的都很清楚，你需要用的配置项就把前面的 <code class="language-plaintext highlighter-rouge">#</code> 号去掉。</p><p><code class="language-plaintext highlighter-rouge">trunk</code> 会根据这个文件里所描述的内容来对你的项目进行验证，所以在验证之前你需要把你的项目先 <code class="language-plaintext highlighter-rouge">push</code> 到 Github 上，同时给这次的 <code class="language-plaintext highlighter-rouge">commit</code> 添加一个 <code class="language-plaintext highlighter-rouge">tag</code>，这个 <code class="language-plaintext highlighter-rouge">tag</code> 需要和 <code class="language-plaintext highlighter-rouge">s.version</code> 相同，这样别人在集成你的库的时候才会根据版本号下载到相对应的 <code class="language-plaintext highlighter-rouge">commit</code>。</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git add <span class="nt">-A</span>
<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"Release 0.0.1"</span>
<span class="nv">$ </span>git push <span class="nt">--tags</span>
<span class="nv">$ </span>git push origin master
</pre></table></code></div></div><p>然后在项目目录下运行下面的命令来对你的 <code class="language-plaintext highlighter-rouge">podspec</code> 文件进行验证并上传到 <a href="https://github.com/CocoaPods/Specs.git">Cocoapods/Specs</a>：</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>pod trunk push KSGuideController.podspec <span class="nt">--allow-warnings</span>
</pre></table></code></div></div><p>验证的条件比较严格，一旦有警告也无法通过，但是可以通过添加 <code class="language-plaintext highlighter-rouge">--allow-warnings</code> 参数来忽略警告。部署成功之后Cocoapods会在Twiter上@你。这时你再运行 <code class="language-plaintext highlighter-rouge">pod setup</code> 来更新本地的Pods仓库，然后使用 <code class="language-plaintext highlighter-rouge">pod search KSGuideController</code> 来搜索你刚发布的项目：</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nv">$ </span>pod search KSGuideController
-&gt; KSGuideController <span class="o">(</span>0.0.1<span class="o">)</span>
   A beautiful animated novice guide controller.
   pod <span class="s1">'KSGuideController'</span>, <span class="s1">'~&gt; 0.0.1'</span>
   - Homepage: https://github.com/skx926/KSGuideController
   - Source:   https://github.com/skx926/KSGuideController.git
   - Versions: 0.0.1 <span class="o">[</span>master repo]
</pre></table></code></div></div><p>大功告成，这样别人就可以在项目中使用Cocoapods集成你的开源库了！</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/ios/'>iOS</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/cocoapods/" class="post-tag no-text-decoration" >Cocoapods</a> <a href="/tags/trunk/" class="post-tag no-text-decoration" >Trunk</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=使用Trunk发布开源库到Cocoapods - 一剑霜寒十四州&url=https://xdev.in/posts/publish-to-cocoapods/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=使用Trunk发布开源库到Cocoapods - 一剑霜寒十四州&u=https://xdev.in/posts/publish-to-cocoapods/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=使用Trunk发布开源库到Cocoapods - 一剑霜寒十四州&url=https://xdev.in/posts/publish-to-cocoapods/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/swift-crash-catch/">Swift Crash 捕获和分析</a><li><a href="/posts/assign-obj-detector/">Assign对象自动检测</a><li><a href="/posts/mac-glfw/">OpenGL学习笔记（一）：在Mac上编译GLFW并配置到Xcode项目</a><li><a href="/posts/xcode-device-rgb/">解决Storyboard中设置的颜色和代码设置的颜色不一样的问题</a><li><a href="/posts/unix-executable/">Mac如何生成Unix可执行文件</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E7%BB%88%E7%AB%AF/">终端</a> <a class="post-tag" href="/tags/cocoapods/">Cocoapods</a> <a class="post-tag" href="/tags/git/">Git</a> <a class="post-tag" href="/tags/opengl/">OpenGL</a> <a class="post-tag" href="/tags/ssh/">SSH</a> <a class="post-tag" href="/tags/xcode/">Xcode</a> <a class="post-tag" href="/tags/%E4%BB%A3%E7%90%86/">代理</a> <a class="post-tag" href="/tags/%E5%8D%9A%E5%AE%A2/">博客</a> <a class="post-tag" href="/tags/%E6%89%8B%E5%8A%BF/">手势</a> <a class="post-tag" href="/tags/%E8%AF%81%E4%B9%A6/">证书</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/mac-proxy/"><div class="card-body"> <span class="timeago small" > Jan 23, 2019 <i class="unloaded">2019-01-23T19:31:53+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Mac上的各种代理设置</h3><div class="text-muted small"><p> 在天朝要做一名合格的程序员，翻墙上Google是必备技能。我之前有写过一篇文章来教大家搭建自己的翻墙服务器，里面关于VPS推荐的部分已经过时了，但是操作步骤还是有用的。 但是等你把一切都配置好之后你会发现似乎只有浏览器可以正常访问被屏蔽的网站，常用的一些服务比如git、ssh、npm、terminal、telegram等不是连接出错就是慢的要死，其实这些服务的数据其实根本没有经过我们的代理...</p></div></div></a></div><div class="card"> <a href="/posts/h5-image-picker/"><div class="card-body"> <span class="timeago small" > Dec 29, 2018 <i class="unloaded">2018-12-29T01:05:50+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>移动端H5页面选择图片的各种姿势</h3><div class="text-muted small"><p> 通过HTML的&lt;input&gt;标签调用系统api进行选择 通过下面的代码就可以调用系统的api选择图片 1 2 3 4 5 6 7 8 &lt;!-- 选择文件 --&gt; &lt;input type="file"&gt; &lt;!-- 选择图片 --&gt; &lt;input type="file" accept='image/*'&gt; &lt;!-- 选择多张图...</p></div></div></a></div><div class="card"> <a href="/posts/corner-radius/"><div class="card-body"> <span class="timeago small" > Nov 13, 2014 <i class="unloaded">2014-11-13T20:31:19+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>iOS图片圆角实现和性能优化</h3><div class="text-muted small"><p> iOS的系统之中用了大量的圆角和圆形的图案，为了是我们的应用更加“接地气”，在iOS开发中我们也会不可避免的需要为自己的View添加圆角。 我在开发中使用圆角有两种情况: 圆形的用户头像 给View或Button添加圆角 这两种情况都可以设置View的CALayer属性的cornerRadius属性来产生圆角，使用方法很简单 view.layer.cornerRadius...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/colorful-terminal/" class="btn btn-outline-primary"><p>让你的Mac终端“漂亮”起来</p></a> <a href="/posts/terminal-autocomplete/" class="btn btn-outline-primary"><p>让Mac终端自动补全忽略大小写</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//skx926.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://xdev.in/posts/publish-to-cocoapods/'; this.page.identifier = '/posts/publish-to-cocoapods/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/skx926">Kyle Sun</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/%E7%BB%88%E7%AB%AF/">终端</a> <a class="post-tag" href="/tags/cocoapods/">Cocoapods</a> <a class="post-tag" href="/tags/git/">Git</a> <a class="post-tag" href="/tags/opengl/">OpenGL</a> <a class="post-tag" href="/tags/ssh/">SSH</a> <a class="post-tag" href="/tags/xcode/">Xcode</a> <a class="post-tag" href="/tags/%E4%BB%A3%E7%90%86/">代理</a> <a class="post-tag" href="/tags/%E5%8D%9A%E5%AE%A2/">博客</a> <a class="post-tag" href="/tags/%E6%89%8B%E5%8A%BF/">手势</a> <a class="post-tag" href="/tags/%E8%AF%81%E4%B9%A6/">证书</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://xdev.in{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-73055515-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-73055515-1'); </script>
